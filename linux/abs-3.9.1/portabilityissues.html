<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
> <meta content="text/html; charset=UTF-8" http-equiv="content-type" /><TITLE
>可移植性问题</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="高级Bash脚本编程指南"
HREF="index.html"><LINK
REL="UP"
TITLE="杂项"
HREF="miscellany.html"><LINK
REL="PREVIOUS"
TITLE="安全问题"
HREF="securityissues.html"><LINK
REL="NEXT"
TITLE="Windows下的shell脚本"
HREF="winscript.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#CCFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>高级Bash脚本编程指南: 一本深入学习shell脚本艺术的书籍</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="securityissues.html"
ACCESSKEY="P"
>前一页</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>33. 杂项</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="winscript.html"
ACCESSKEY="N"
>下一页</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="PORTABILITYISSUES"
>33.9. 可移植性问题</A
></H1
><P
>这本书主要描述的是, 在GNU/Linux系统上, 如何处理特定于Bash的脚本. 
	  但是使用<B
CLASS="COMMAND"
>sh</B
>和<B
CLASS="COMMAND"
>ksh</B
>的用户仍然会从这里找到很多有价值的东西. .</P
><P
>碰巧, 许多不同的shell脚本语言其实都遵循POSIX 1003.2标准. 
		如果使用<CODE
CLASS="OPTION"
>--posix</CODE
>选项来调用Bash, 
	   或者在脚本头插入<B
CLASS="COMMAND"
>set -o posix</B
>, 
	  那么将会使Bash与这个标准非常接近地保持一致. 
	  另一种办法就是在脚本头使用
	    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  1&nbsp;#!/bin/sh</PRE
></FONT
></TD
></TR
></TABLE
>
	  而不是
	    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>  1&nbsp;#!/bin/bash</PRE
></FONT
></TD
></TR
></TABLE
>
	  注意在Linux或者某些特定的UNIX上, <TT
CLASS="FILENAME"
>/bin/sh</TT
>其实只是一个指向<TT
CLASS="FILENAME"
>/bin/bash</TT
>的<A
HREF="basic.html#LINKREF"
>链接</A
>, 
	  并且使用这种方法调用脚本的话, 将会禁用Bash的扩展功能. 
	  </P
><P
>大多数的Bash脚本都好像运行在<B
CLASS="COMMAND"
>ksh</B
>上一样, 
		  反过来看, 这是因为Chet Ramey一直致力于将<B
CLASS="COMMAND"
>ksh</B
>的特性移植到Bash的最新版本上. 
	  </P
><P
>对于商业UNIX机器来说, 如果在脚本中包含了使用GNU特性的标准命令, 
		 那么这些脚本可能不会正常运行. 
	  但是在最近几年, 这个问题得到了极大的改观, 
	  这是因为即使在<SPAN
CLASS="QUOTE"
>"大块头"</SPAN
>UNIX上, 
	  GNU工具包也非常好的替换掉了同类的私有工具. 
	  对于原始的UNIX来说, 
	  <A
HREF="http://linux.oreillynet.com/pub/a/linux/2002/02/28/caldera.html"
TARGET="_top"
>源代码的火山喷发</A
>加剧了这种趋势. 
	  </P
><P
>Bash具有的某些特性是传统的Bourne shell所缺乏的. 
	  下面就是其中的一部分: 

	<P
></P
><UL
><LI
><P
>某些扩展的<A
HREF="options.html#INVOCATIONOPTIONSREF"
>调用选项</A
></P
></LI
><LI
><P
>使用<B
CLASS="COMMAND"
>$(    )</B
>形式的<A
HREF="commandsub.html#COMMANDSUBREF"
>命令替换</A
></P
></LI
><LI
><P
>某些<A
HREF="string-manipulation.html#STRINGMANIP"
>字符串处理</A
>操作符</P
></LI
><LI
><P
><A
HREF="process-sub.html#PROCESSSUBREF"
>进程替换</A
></P
></LI
><LI
><P
>Bash特有的<A
HREF="internal.html#BUILTINREF"
>内建命令</A
></P
></LI
></UL
>
	</P
><P
>请参考<A
HREF="ftp://ftp.cwru.edu/pub/bash/FAQ"
TARGET="_top"
>Bash
	   F.A.Q.</A
>, 你将会获得完整的列表. </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="securityissues.html"
ACCESSKEY="P"
>前一页</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>首页</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="winscript.html"
ACCESSKEY="N"
>下一页</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>安全问题</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="miscellany.html"
ACCESSKEY="U"
>上一级</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Windows下的shell脚本</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
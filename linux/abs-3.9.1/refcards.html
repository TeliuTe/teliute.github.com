<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
> <meta content="text/html; charset=UTF-8" http-equiv="content-type" /><TITLE
>参考卡片</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="高级Bash脚本编程指南"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="捐献的脚本"
HREF="contributed-scripts.html"><LINK
REL="NEXT"
TITLE="一个学习Sed和Awk的小手册"
HREF="sedawk.html"></HEAD
><BODY
CLASS="APPENDIX"
BGCOLOR="#CCFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>高级Bash脚本编程指南: 一本深入学习shell脚本艺术的书籍</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="contributed-scripts.html"
ACCESSKEY="P"
>前一页</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sedawk.html"
ACCESSKEY="N"
>下一页</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="APPENDIX"
><H1
><A
NAME="REFCARDS"
></A
>Appendix B. 参考卡片</H1
><P
>下面的参考卡片提供了对于某些特定的脚本概念的一个<EM
>总结</EM
>. 
	之前我们已经对这里所提及的概念进行了详细的解释, 并且给出了使用的例子. </P
><DIV
CLASS="TABLE"
><HR><A
NAME="AEN17110"
></A
><P
><B
>表格 B-1. 特殊的shell变量</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>变量</TH
><TH
>含义</TH
></TR
></THEAD
><TBODY
><TR
><TD
><CODE
CLASS="OPTION"
>$0</CODE
></TD
><TD
>脚本名字</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$1</CODE
></TD
><TD
>位置参数 #1</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$2 - $9</CODE
></TD
><TD
>位置参数 #2 - #9</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${10}</CODE
></TD
><TD
>位置参数 #10</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$#</CODE
></TD
><TD
>位置参数的个数</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>"$*"</CODE
></TD
><TD
>所有的位置参数(作为单个字符串) *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>"$@"</CODE
></TD
><TD
>所有的位置参数(每个都作为独立的字符串)</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${#*}</CODE
></TD
><TD
>传递到脚本中的命令行参数的个数</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${#@}</CODE
></TD
><TD
>传递到脚本中的命令行参数的个数</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$?</CODE
></TD
><TD
>返回值</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$$</CODE
></TD
><TD
>脚本的进程ID(PID)</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$-</CODE
></TD
><TD
>传递到脚本中的标志(使用<EM
>set</EM
>)</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$_</CODE
></TD
><TD
>之前命令的最后一个参数</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>$!</CODE
></TD
><TD
>运行在后台的最后一个作业的进程ID(PID)</TD
></TR
></TBODY
></TABLE
><HR></DIV
><P
><B
CLASS="COMMAND"
>*</B
> <EM
>必须被引用起来</EM
>,
        否则默认为<SPAN
CLASS="QUOTE"
>"<CODE
CLASS="VARNAME"
>$@</CODE
>"</SPAN
>. </P
><DIV
CLASS="TABLE"
><HR><A
NAME="AEN17180"
></A
><P
><B
>表格 B-2. 测试操作: 二元比较</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><COL><COL><THEAD
><TR
><TH
>操作</TH
><TH
>描述</TH
><TH
>-----</TH
><TH
>操作</TH
><TH
>描述</TH
></TR
></THEAD
><TBODY
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>算术比较</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>字符串比较</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-eq</CODE
></TD
><TD
>等于</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>=</CODE
></TD
><TD
>等于</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>==</CODE
></TD
><TD
>等于</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-ne</CODE
></TD
><TD
>不等于</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>!=</CODE
></TD
><TD
>不等于</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-lt</CODE
></TD
><TD
>小于</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>\&#60;</CODE
></TD
><TD
>小于 (ASCII) *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-le</CODE
></TD
><TD
>小于等于</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-gt</CODE
></TD
><TD
>大于</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>\&#62;</CODE
></TD
><TD
>大于 (ASCII) *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-ge</CODE
></TD
><TD
>大于等于</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-z</CODE
></TD
><TD
>字符串为空</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-n</CODE
></TD
><TD
>字符串不为空</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>算术比较</TD
><TD
>双括号(( ... ))结构</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>&#62;</CODE
></TD
><TD
>大于</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>&#62;=</CODE
></TD
><TD
>大于等于</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>&#60;</CODE
></TD
><TD
>小于</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>&#60;=</CODE
></TD
><TD
>小于等于</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
></TBODY
></TABLE
><HR></DIV
><P
><B
CLASS="COMMAND"
>*</B
> <EM
>如果在双中括号</EM
> [[ ... ]] <EM
>测试结构中使用的话, 
        那么就不需要使用转义符</EM
>\<EM
>了. </EM
></P
><DIV
CLASS="TABLE"
><HR><A
NAME="AEN17292"
></A
><P
><B
>表格 B-3. 文件类型的测试操作</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><COL><COL><THEAD
><TR
><TH
>操作</TH
><TH
>测试条件</TH
><TH
>-----</TH
><TH
>操作</TH
><TH
>测试条件</TH
></TR
></THEAD
><TBODY
><TR
><TD
><CODE
CLASS="OPTION"
>-e</CODE
></TD
><TD
>文件是否存在</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-s</CODE
></TD
><TD
>文件大小不为0</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-f</CODE
></TD
><TD
>是一个<EM
>标准</EM
>文件</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-d</CODE
></TD
><TD
>是一个<EM
>目录</EM
></TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-r</CODE
></TD
><TD
>文件具有<EM
>读</EM
>权限</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-h</CODE
></TD
><TD
>文件是一个<EM
>符号链接</EM
></TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-w</CODE
></TD
><TD
>文件具有<EM
>写</EM
>权限</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-L</CODE
></TD
><TD
>文件是一个<EM
>符号链接</EM
></TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-x</CODE
></TD
><TD
>文件具有<EM
>执行</EM
>权限</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-b</CODE
></TD
><TD
>文件是一个<EM
>块设备</EM
></TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-c</CODE
></TD
><TD
>文件是一个<EM
>字符设备</EM
></TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-g</CODE
></TD
><TD
>设置了<EM
>sgid</EM
>标记</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-p</CODE
></TD
><TD
>文件是一个<EM
>管道</EM
></TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-u</CODE
></TD
><TD
>设置了<EM
>suid</EM
>标记</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-S</CODE
></TD
><TD
>文件是一个<A
HREF="devref1.html#SOCKETREF"
>socket</A
></TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>-k</CODE
></TD
><TD
>设置了<SPAN
CLASS="QUOTE"
>"粘贴位"</SPAN
></TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-t</CODE
></TD
><TD
>文件与一个<EM
>终端</EM
>相关联</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-N</CODE
></TD
><TD
>从这个文件最后一次被读取之后, 它被修改过</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>F1 -nt F2</CODE
></TD
><TD
>文件F1比文件F2<EM
>新</EM
> *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-O</CODE
></TD
><TD
>这个文件的宿主是你</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>F1 -ot F2</CODE
></TD
><TD
>文件F1比文件F2<EM
>旧</EM
> *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>-G</CODE
></TD
><TD
>文件的<EM
>组id</EM
>与你所属的组相同</TD
><TD
>&nbsp;</TD
><TD
><CODE
CLASS="OPTION"
>F1 -ef F2</CODE
></TD
><TD
>文件F1和文件F2都是同一个文件的<EM
>硬链接</EM
> *</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>!</CODE
></TD
><TD
><SPAN
CLASS="QUOTE"
>"非"</SPAN
> (反转上边的测试结果)</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
></TBODY
></TABLE
><HR></DIV
><P
><B
CLASS="COMMAND"
>*</B
> <EM
>二元</EM
>操作符(需要两个操作数). </P
><DIV
CLASS="TABLE"
><HR><A
NAME="AEN17426"
></A
><P
><B
>表格 B-4. 参数替换和扩展</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>表达式</TH
><TH
>含义</TH
></TR
></THEAD
><TBODY
><TR
><TD
><CODE
CLASS="OPTION"
>${var}</CODE
></TD
><TD
>变量<CODE
CLASS="PARAMETER"
>var</CODE
>的值, 与<CODE
CLASS="PARAMETER"
>$var</CODE
>相同</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var-DEFAULT}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>没有被声明, 
			  那么就以<CODE
CLASS="PARAMETER"
>$DEFAULT</CODE
>作为其值 *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var:-DEFAULT}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>没有被声明, 或者其值为空,
		那么就以<CODE
CLASS="PARAMETER"
>$DEFAULT</CODE
>作为其值 *</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var=DEFAULT}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>没有被声明, 
			  那么就以<CODE
CLASS="PARAMETER"
>$DEFAULT</CODE
>作为其值 *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var:=DEFAULT}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>没有被声明, 或者其值为空,
			  那么就以<CODE
CLASS="PARAMETER"
>$DEFAULT</CODE
>作为其值 *</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var+OTHER}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>声明了, 
			  那么其值就是<CODE
CLASS="PARAMETER"
>$OTHER</CODE
>, 
			  否则就为null字符串</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var:+OTHER}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>被设置了, 
			  那么其值就是<CODE
CLASS="PARAMETER"
>$OTHER</CODE
>, 
			  否则就为null字符串</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var?ERR_MSG}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>没被声明, 
			  那么就打印<CODE
CLASS="PARAMETER"
>$ERR_MSG</CODE
> *</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${var:?ERR_MSG}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>var</CODE
>没被设置, 
			  那么就打印<CODE
CLASS="PARAMETER"
>$ERR_MSG</CODE
> *</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${!varprefix*}</CODE
></TD
><TD
>匹配之前所有以<CODE
CLASS="PARAMETER"
>varprefix</CODE
>开头进行声明的变量</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${!varprefix@}</CODE
></TD
><TD
>匹配之前所有以<CODE
CLASS="PARAMETER"
>varprefix</CODE
>开头进行声明的变量</TD
></TR
></TBODY
></TABLE
><HR></DIV
><P
><B
CLASS="COMMAND"
>*</B
> 当然, 如果变量<CODE
CLASS="PARAMETER"
>var</CODE
>已经被设置的话, 
        那么其值就是<CODE
CLASS="PARAMETER"
>$var</CODE
>. </P
><DIV
CLASS="TABLE"
><HR><A
NAME="AEN17517"
></A
><P
><B
>表格 B-5. 字符串操作</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>表达式</TH
><TH
>含义</TH
></TR
></THEAD
><TBODY
><TR
><TD
><CODE
CLASS="OPTION"
>${#string}</CODE
></TD
><TD
><CODE
CLASS="PARAMETER"
>$string</CODE
>的长度</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string:position}</CODE
></TD
><TD
>在<CODE
CLASS="PARAMETER"
>$string</CODE
>中, 
			  从位置<CODE
CLASS="PARAMETER"
>$position</CODE
>开始提取子串
		</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string:position:length}</CODE
></TD
><TD
>在<CODE
CLASS="PARAMETER"
>$string</CODE
>中, 
			  从位置<CODE
CLASS="PARAMETER"
>$position</CODE
>开始提取长度为<CODE
CLASS="PARAMETER"
>$length</CODE
>的子串
		</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string#substring}</CODE
></TD
><TD
>从变量<CODE
CLASS="PARAMETER"
>$string</CODE
>的开头, 
			  删除最短匹配<CODE
CLASS="PARAMETER"
>$substring</CODE
>的子串
	      </TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string##substring}</CODE
></TD
><TD
>从变量<CODE
CLASS="PARAMETER"
>$string</CODE
>的开头, 
			  删除最长匹配<CODE
CLASS="PARAMETER"
>$substring</CODE
>的子串
	      </TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string%substring}</CODE
></TD
><TD
>从变量<CODE
CLASS="PARAMETER"
>$string</CODE
>的结尾, 
			  删除最短匹配<CODE
CLASS="PARAMETER"
>$substring</CODE
>的子串
	      </TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string%%substring}</CODE
></TD
><TD
>从变量<CODE
CLASS="PARAMETER"
>$string</CODE
>的结尾, 
			  删除最长匹配<CODE
CLASS="PARAMETER"
>$substring</CODE
>的子串
	      </TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string/substring/replacement}</CODE
></TD
><TD
>使用<CODE
CLASS="PARAMETER"
>$replacement</CODE
>, 
	      来代替第一个匹配的<CODE
CLASS="PARAMETER"
>$substring</CODE
>
	      </TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string//substring/replacement}</CODE
></TD
><TD
>使用<CODE
CLASS="PARAMETER"
>$replacement</CODE
>, 
	      代替<EM
>所有</EM
>匹配的<CODE
CLASS="PARAMETER"
>$substring</CODE
>
	      </TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string/#substring/replacement}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>$string</CODE
>的<EM
>前缀</EM
>匹配<CODE
CLASS="PARAMETER"
>$substring</CODE
>, 
	      那么就用<CODE
CLASS="PARAMETER"
>$replacement</CODE
>来代替匹配到的<CODE
CLASS="PARAMETER"
>$substring</CODE
></TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${string/%substring/replacement}</CODE
></TD
><TD
>如果<CODE
CLASS="PARAMETER"
>$string</CODE
>的<EM
>后缀</EM
>匹配<CODE
CLASS="PARAMETER"
>$substring</CODE
>, 
	      那么就用<CODE
CLASS="PARAMETER"
>$replacement</CODE
>来代替匹配到的<CODE
CLASS="PARAMETER"
>$substring</CODE
></TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr match "$string" '$substring'</CODE
></TD
><TD
>匹配<CODE
CLASS="PARAMETER"
>$string</CODE
>开头的<CODE
CLASS="PARAMETER"
>$substring</CODE
>*的长度</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr "$string" : '$substring'</CODE
></TD
><TD
>匹配<CODE
CLASS="PARAMETER"
>$string</CODE
>开头的<CODE
CLASS="PARAMETER"
>$substring</CODE
>*的长度</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr index "$string" $substring</CODE
></TD
><TD
>在<CODE
CLASS="PARAMETER"
>$string</CODE
>中匹配到的<CODE
CLASS="PARAMETER"
>$substring</CODE
>的第一个字符出现的位置</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr substr $string $position
	        $length</CODE
></TD
><TD
>在<CODE
CLASS="PARAMETER"
>$string</CODE
>中从位置<CODE
CLASS="PARAMETER"
>$position</CODE
>开始提取长度为<CODE
CLASS="PARAMETER"
>$length</CODE
>的子串</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr match "$string"
	        '\($substring\)'</CODE
></TD
><TD
>从<CODE
CLASS="PARAMETER"
>$string</CODE
>的开头位置提取<CODE
CLASS="PARAMETER"
>$substring</CODE
>*</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr "$string" :
	        '\($substring\)'</CODE
></TD
><TD
>从<CODE
CLASS="PARAMETER"
>$string</CODE
>的开头位置提取<CODE
CLASS="PARAMETER"
>$substring</CODE
>*</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr match "$string"
	        '.*\($substring\)'</CODE
></TD
><TD
>从<CODE
CLASS="PARAMETER"
>$string</CODE
>的结尾提取<CODE
CLASS="PARAMETER"
>$substring</CODE
>*</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>expr "$string" :
	        '.*\($substring\)'</CODE
></TD
><TD
>从<CODE
CLASS="PARAMETER"
>$string</CODE
>的结尾提取<CODE
CLASS="PARAMETER"
>$substring</CODE
>*</TD
></TR
></TBODY
></TABLE
><HR></DIV
><P
><B
CLASS="COMMAND"
>*</B
> <CODE
CLASS="PARAMETER"
>$substring</CODE
>是一个<EM
>正则表达式</EM
>. </P
><DIV
CLASS="TABLE"
><HR><A
NAME="AEN17666"
></A
><P
><B
>表格 B-6. 一些结构的汇总</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>表达式</TH
><TH
>解释</TH
></TR
></THEAD
><TBODY
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><EM
>中括号</EM
></TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>if [ CONDITION ]</CODE
></TD
><TD
>测试结构</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>if [[ CONDITION ]]</CODE
></TD
><TD
>扩展的测试结构</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>Array[1]=element1</CODE
></TD
><TD
>数组初始化</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
> [a-z]</CODE
></TD
><TD
><A
HREF="regexp.html#REGEXREF"
>正则表达式</A
>的字符范围</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><EM
>大括号</EM
></TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${variable}</CODE
></TD
><TD
>参数替换</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>${!variable}</CODE
></TD
><TD
><A
HREF="ivr.html#IVRREF"
>间接变量引用</A
></TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>{ command1; command2; . . . commandN; }</CODE
></TD
><TD
>代码块</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>{string1,string2,string3,...}</CODE
></TD
><TD
>大括号扩展</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><EM
>圆括号</EM
></TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>( command1; command2 )</CODE
></TD
><TD
><A
HREF="subshells.html#SUBSHELLSREF"
>子shell</A
>中执行的命令组</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>Array=(element1 element2 element3)</CODE
></TD
><TD
>数组初始化</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>result=$(COMMAND)</CODE
></TD
><TD
>在子shell中执行命令, 并将结果赋值给变量</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>&#62;(COMMAND)</CODE
></TD
><TD
><A
HREF="process-sub.html#PROCESSSUBREF"
>进程替换</A
></TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>&#60;(COMMAND)</CODE
></TD
><TD
>进程替换</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><EM
>双圆括号</EM
></TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>(( var = 78 ))</CODE
></TD
><TD
>整型运算</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>var=$(( 20 + 5 ))</CODE
></TD
><TD
>整型运算, 并将结果赋值给变量</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><EM
>引号</EM
></TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>"$variable"</CODE
></TD
><TD
>"弱"引用</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>'string'</CODE
></TD
><TD
>"强"引用</TD
></TR
><TR
><TD
>&nbsp;</TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><EM
>后置引用</EM
></TD
><TD
>&nbsp;</TD
></TR
><TR
><TD
><CODE
CLASS="OPTION"
>result=`COMMAND`</CODE
></TD
><TD
>在子shell中运行命令, 并将结果赋值给变量</TD
></TR
></TBODY
></TABLE
><HR></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="contributed-scripts.html"
ACCESSKEY="P"
>前一页</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>首页</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sedawk.html"
ACCESSKEY="N"
>下一页</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>捐献的脚本</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>一个学习Sed和Awk的小手册</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head>




  <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
  <meta name="author" content="TeliuTe" />

  <meta name="Copyright" content="TeliuTe,基础教程网" />
  <meta name="description" content="TeliuTe系列教程之Shell 脚本基础入门教程" />
  <meta name="keywords" content="Shell,脚本,命令,TeliuTe,教学,基础,入门" />

  <link rel="stylesheet" href="../css/css.css" type="text/css" />
  <link rel="Shortcut  Icon" href="../css/qcqy.ico" /><title>Shell 脚本基础|数值运算</title></head><body style="direction: ltr;">
<p class="title">Bash Shell 脚本编程基础</p>
<p class="green">作者：TeliuTe　来源：基础教程网</p>
<span class="tblue">三、数学运算</span>　<a href="../index.html">返回目录</a>　<a href="../lesson4/lesson4.html">下一课</a>
<p>　数值运算是简单的数字运算，包括整数和小数(浮点数)；</p>
<p class="tblue">　1、数值计算</p>
<p>　1）启动文本编辑器gedit，输入第一行 #!/bin/bash ，保存文件为 3c.sh ，并设置可执行权限；</p>
<div style="background-color: rgb(255, 255, 255); width: 400px; color: green; margin-left: 20px;">
#!/bin/bash
</div>
<p>　</p>
<p>　2）给变量赋值，可以直接用等号，输入一行 a=9; b=9，两个句子之间可以用分号来分隔；</p>
<div style="background-color: rgb(255, 255, 255); width: 400px; color: green; margin-left: 20px;">
#!/bin/bash<br />
a=9; b=9 
</div>
<p>　</p>
<p>　3）数值运算可以用两个圆括号括起来，也可以用 let 命令，继续输入 ((c=a+b)); echo $c ，用 let c=a+b 也可以；</p>
<div style="background-color: rgb(255, 255, 255); width: 400px; color: green; margin-left: 20px;">
#!/bin/bash<br />
a=9;b=9 <br />
((c=a+b)); echo $c 
</div>
<p>　保存运行，可以看到计算结果；</p>
<p>　<img src="images/a3add.png" alt="a3add.png" /></p>
<p>　</p>
<p>　4）小数运算需要借助bc计算器，继续输入 a=3.14; b=2.5; c=`echo "scale=2;$a*$b"|bc`; echo $c；</p>
<div style="background-color: rgb(255, 255, 255); width: 400px; color: green; margin-left: 20px;">
#!/bin/bash<br />
a=9;b=9 <br />
((c=a+b)); echo $c <br />
<br />
a=3.14<br />
b=2.5<br />
c=`echo "scale=2;$a*$b"|bc`<br />
echo $c
</div>
<p>　保存运行，可以看到小数的计算结果；</p>
<p>　<img src="images/a4float.png" alt="a4float.png" /></p>
<p>　</p>
<p>　5）等号右边的一对反引号``，将里面的内容作为一个命令来执行，输入一行 echo "Today is `date`" ，里面的 date 将会作为命令来执行 ；</p>
<div style="background-color: rgb(255, 255, 255); width: 400px; color: green; margin-left: 20px;">
#!/bin/bash<br />
a=9;b=9 <br />
((c=a+b)); echo $c <br />
<br />
a=3.14<br />
b=2.5<br />
c=`echo "scale=2;$a*$b"|bc`<br />
echo $c<br />
<br />
echo "Today is `date`"
</div>
<p>　保存运行，可以看到反引号中的date，转换成命令结果了；</p>
<p>　<img src="images/a5date.png" alt="a5date.png" /></p>
<p>　</p>
<p>　6）等号右边的 echo 将会显示一个字符串，将双引号里面的内容，显示为一个字符串，两个$会提取变量值，输入一行 echo "scale=2;$a*$b"；</p>
<div style="background-color: rgb(255, 255, 255); width: 400px; color: green; margin-left: 20px;">
#!/bin/bash<br />
a=9;b=9 <br />
((c=a+b)); echo $c <br />
<br />
a=3.14<br />
b=2.5<br />
c=`echo "scale=2;$a*$b"|bc`<br />
echo $c<br />
<br />
echo "Today is `date`"<br />
echo "scale=2;$a*$b"<br />
</div>
<p>　保存运行，可以看到竖线左边echo这一句的命令结果；</p>
<p>　<img src="images/a6echo.png" alt="a6echo.png" /></p>
<p>　</p>
<p>　7）其中的 scale=2 是设置计算精度，用bc计算的结果将会保留两位小数，根据需要设置等号后面的数字；</p>
<p>　</p>
<p>　8）竖线 | 是管道符号，竖线左边的结果会传递给右边的命令中，这里是将左边echo得到的字符串，输入给右边的bc中，进行运算，结果存入变量c中，再输入一行 echo 显示结果的；</p>
<div style="background-color: rgb(255, 255, 255); width: 400px; color: green; margin-left: 20px;">
#!/bin/bash<br />
a=9;b=9 <br />
((c=a+b)); echo $c <br />
<br />
a=3.14<br />
b=2.5<br />
c=`echo "scale=2;$a*$b"|bc`<br />
echo $c<br />
<br />
echo "Today is `date`"<br />
echo "scale=2;$a*$b"<br />
echo `echo "scale=2;$a*$b"|bc`
</div>
<p>　保存运行，可以看到等号右边的运行结果；</p>
<p>　<img src="images/a8echo.png" alt="a8echo.png" /></p>
<p>　</p>
<p>　9）<a href="3c.sh">下载本课范例</a>；</p>
<p>　</p>
<p>　<span class="tblue">本节</span>学习了数值运算的基础知识，如果你成功地完成了练习，请继续学习下一课内容；</p>
<p><a href="../index.html">返回目录</a>　<a href="../lesson4/lesson4.html">下一课</a></p>
<p class="green">本教程由TeliuTe制作|著作权所有</p>
<p class="green">基础教程网：<a href="http://teliute.org/">http://teliute.org/</a></p>
<p class="green">美丽的校园……</p>

<p style="text-align: center;">转载和引用本站内容，请保留作者和本站链接。</p>

<p><script type="text/javascript" src="http://js.users.51.la/1132862.js">
</script>

</p><div>

<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br />
<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "image";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br />
<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


</div></body></html>

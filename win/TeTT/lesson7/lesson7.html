<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="author" content="TeliuTe" /> 
<meta content="TeliuTe系列教程之Flash脚本实例教程" name="description" /> 
<meta content="TeliuTe,基础教程网" name="Copyright" /> 
<meta content="Flash脚本,TeliuTe,教程,实例,入门" name="keywords" />

<link rel="stylesheet" href="../css/css.css" type="text/css" /><title>Flash脚本实例|定时器或计时器</title>

<link rel="Shortcut  Icon" href="../css/qcqy.ico" /></head><body style="direction: ltr;">

<p class="title">Flash脚本实例《打字》制作教程</p>
<p class="green">作者：TeliuTe　来源：基础教程网</p>
<p><span class="tblue">七、定时器或计时器</span>　<a href="../index.html">返回目录</a>　<a href="../lesson8/lesson8.html">下一课</a></p>
<p>　通过定时器，可以定时输出打字进度，下面我们来看一个练习；</p>

<p class="tblue">　1、定义变量</p>
<p>　1）定时器是一个<span class="brown">函数</span>，每隔一定时间就自动执行一次，我们设为1秒执行一次，接着上一节继续输入；</p>
<div style="background-color: rgb(255, 255, 255); width: 600px; color: green;">
var intervalId:Number; //定时器用<br />
var intMin:Number=0; //存放时间，分钟 mm:ss<br />
var intSec:Number=0; //存放时间，秒 mm:ss<br />
</div>
<p>　</p>
<p>　2）接下来输入<span class="brown">定时器</span>函数，每隔1秒（1000毫秒）运行一次；</p>
<div style="background-color: rgb(255, 255, 255); width: 850px; color: green;">
//定时器函数，1秒(1000毫秒)运行一次<br />

function CounTime():Void <br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intSec++;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(intSec == 60) //一分钟了<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
intMin++; //分钟数加一<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
intSec=0; //秒数归零<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strInTime = String(intMin) +
":" +String(intSec); //时间<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strInSpeed =
String(int(Number(strInTotal)/(intMin + intSec/60))); //速度<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //成绩<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (Number(strInTotal)
&gt;0) //防止刚开始没输入的除0错误<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if (Number(strInSpeed) &gt;= 125) //速度达到满分100，得分=速100*正确率，此时只考虑正确率<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
intScore = 100*(Number(strInTotal) - intErr)/ Number(strInTotal) ;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
else //速度没达到满分，得分=速度*0.8*正确率<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
intScore = Number(strInSpeed)*0.8*(Number(strInTotal) - intErr)/
Number(strInTotal);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
strScore =String(intScore); //“得分”<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
strScore ="";//没成绩<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br />
} //end of function CounTime<br />
</div>
<p>　</p>
<p>　3）intSec++ 是秒增加一个，每执行一次<span class="brown">说明</span>过了一秒，秒数加一，</p>
<p>　这里用到两个<span class="brown">转换</span>函数，String是把数字转换成字符来显示，Number是把字符转换为数字来运算，</p>
<p>　成绩<span class="brown">包含</span>速度和正确率，速度125为满分，正确率全对为满分，两个相乘；</p>
<p>　</p>
<p>　4）保存一下，点一下动作面板<span class="brown">工具栏</span>里的对勾，看看代码是否正确，再测试一下；</p>
<p>　<span class="tblue">本节</span>学习了设计定时器函数，如果你成功地完成了练习，请继续学习下一课内容；
</p><p><a href="../index.html">返回目录</a>　<a href="../lesson8/lesson8.html">下一课</a></p>
<p class="green">本教程由86团学校TeliuTe制作|著作权所有</p>
<p class="green">基础教程网：<a href="http://teliute.org/">http://teliute.org/</a></p>
<p class="green">美丽的校园……</p>
<p style="text-align: center;">转载和引用本站内容，请保留版权信息和本站链接。</p>


<p><script language="javascript" type="text/javascript" src="http://js.users.51.la/1132862.js"></script>
<noscript><a href="http://www.51.la/?1132862"
target="_blank"><img alt="我要啦免费统计"
src="http://img.users.51.la/1132862.asp" style="border:none" /
width="20" height="20" /></a> </noscript></p>

<div>
<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br />
<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "image";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br />
<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

</body></html>

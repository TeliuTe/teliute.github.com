<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta name="author" content="TeliuTe" />
<meta name="Copyright" content="TeliuTe,86团学校,基础教程网" />
<meta name="description" content="基础教程网,TeliuTe系列教程，一步一步教你学会使用电脑" />
<meta name="keywords" content="Flash,Photoshop,3DS Max,VB,VC,Frongpage,XP,TeliuTe,86团学校,教程,基础,入门" />
<title>VC++基础|文本输出</title>
</head>

<body bgcolor="#CCFFFF" vlink="#0000FF">

<p align="center"><b><font color="#FF0000" size="6" face="华文中宋">Windows </font></b><font face="华文彩云" color="#FF0000" size="6">编程</font><font face="华文彩云" color="#FF0000" size="6">基础</font></p> 
                
                 
<p align="left" style="line-height: 150%; margin: 0"><font color="#0000FF">五、文本输出　</font><font face="宋体"><a href="../index.htm">返回</a></font>          
          
               
</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">　          
          
               
</p>         
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">通过</font>前面的学习，我们已经能够<font color="#800000">成功地</font>创建一个基本窗口，并进行了简单的<font color="#800000">修饰</font>，这一课我们进入窗口内部学习；</p>       
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>       
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">一个</font>窗口由两部分，内部<font color="#800000">用户区</font>和非用户区，用户区指用户可以<font color="#800000">操作</font>的区域，非用户区是指标题栏和四个边框，这些区域产生的消息一般由<font color="#800000">系统</font>处理；</p>       
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>       
                
                 
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　下面我们来学习怎样在用户区显示一段文字：</p>  
                
                 
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">1、文字的</font>笔画是由许多<font color="#800000">小点</font>组成的，点越小字也就越精确细腻，因此显示器的<font color="#800000">分辨率</font>越高看着就越清楚，</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　一般是800×600         
或者1024×768，大家可以查看一下自己的显示器；</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">2、用户</font>程序准备好显示内容，向系统提出设备<font color="#800000">申请</font>，然后用<b><font face="宋体">TextOut</font></b>函数输出到用户区指定的位置，同时还可以设定字体、颜色和效果；</p>       
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>       
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">3、启动</font>VC，新建一个名为“<b><font face="宋体">Text</font></b>”的<b><font face="宋体">Win32 
</font><font face="Arial">A</font><font face="宋体">pplication</font></b>工程，新建一个<font color="#800000">相同名称</font>的头文件和一个cpp源程序文件，</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　在头文件中输入函数的<font color="#800000">申明</font>，在源程序中输入基本框架<font color="#800000">代码</font><b><font face="宋体">Win</font><font face="Arial">M</font><font face="宋体">ain</font></b>和<b><font face="宋体">Init</font><font face="Arial">A</font><font face="宋体">pplication，InitInstance</font></b>函数，这些和前面都是一样的；</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">4、加入</font>消息处理代码，我们要求文字和窗口一同显示出来，代码如下（<font color="#008000">绿色双斜杠部分是注释</font>），有的行太长会自动折到了下一行开头：</p>       
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>       
                
                 
<p style="line-height: 150%; margin: 0" align="left"><b><font face="宋体">LRESULT   
C</font><font face="Arial">A</font><font face="宋体">LLB</font><font face="Arial">A</font><font face="宋体">CK </font><font face="Arial">M</font><font face="宋体">ainWndProc(<br>      
&nbsp;&nbsp;&nbsp; HWND hWnd,	UINT message, WP</font><font face="Arial">A</font><font face="宋体">R</font><font face="Arial">AM</font><font face="宋体"> wParam,   
LP</font><font face="Arial">A</font><font face="宋体">R</font><font face="Arial">AM</font><font face="宋体"> lParam)<br>         
{<br>
&nbsp;&nbsp;&nbsp; HDC hdc; </font></b><font color="#008000"> //需要设备</font><b><font face="宋体"><br>        
&nbsp;&nbsp;&nbsp; P</font><font face="Arial">A</font><font face="宋体">INTSTRUCT ps; </font></b><font color="#008000"> //使用设备的结构对象</font><font face="宋体"><b><br>        
<br>
&nbsp;&nbsp;&nbsp; <font color="#0000FF">switch</font>(message) </b></font><font color="#008000"> //需要自己处理的消息</font><b><font face="宋体"><br>        
&nbsp;&nbsp;&nbsp; {<br>        
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000FF">case</font>         
 W</font><font face="Arial">M</font><font face="宋体">_P</font><font face="Arial">A</font><font face="宋体">INT: </font></b><font color="#008000"> //接收WM_PAINT消息，本消息自动产生</font><font face="宋体"><b><br>        
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hdc=BeginPaint(hWnd,&amp;ps);         
</b></font><font color="#008000"> //申请设备</font></p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left"><font face="宋体"><b><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;         
SetTextColor(hdc, RGB(240,230,0));</b><font color="#008000">//浅黄色</font><b><br>        
</b></font><font color="#008000">&nbsp;&nbsp;&nbsp;</font><b><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</font></b><font color="#008000">//设置前景色，RGB分别代表红色、绿色、蓝色（255，255，255）的叠加；
</font></p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left"><font color="#008000"><br>
</font><font face="宋体"><b>&nbsp;&nbsp;&nbsp;</b></font><font color="#008000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><b><font face="宋体">&nbsp;&nbsp;&nbsp;</font></b><font color="#008000"> 
</font><b><font face="宋体">SetBk</font><font face="Arial">M</font><font face="宋体">ode(hdc,TR</font><font face="Arial">A</font><font face="宋体">NSP</font><font face="Arial">A</font><font face="宋体">RENT);<br>
</font></b><font color="#008000">&nbsp;&nbsp;&nbsp;</font><font face="宋体"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</b></font><font color="#008000">//背景模式为透明背景；<br>
</font><font face="宋体"><b><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;         
TextOut(hdc,20,30,"清晨，来到美丽的校园……",lstrlen("清晨，来到美丽的校园……"));<br>
</b></font><font color="#008000">&nbsp;&nbsp;&nbsp;</font><font face="宋体"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</b></font><font color="#008000">//设备，列位置，行位置，内容，测出字数&nbsp;
</font></p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left"><font color="#008000"><br>
</font><b><font face="宋体">&nbsp;&nbsp;&nbsp;</font></b><font color="#008000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</font><b><font face="宋体">EndPaint(hWnd,&amp;ps); </font></b><font color="#008000"> //结束设备使用</font><font face="宋体"><b><br>       
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000FF">break</font>;</b></font><font color="#008000">//本条消息处理完毕，</font><b><font face="宋体"><br>       
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000FF">case</font>        
 W</font><font face="Arial">M</font><font face="宋体">_DESTROY:</font></b><font color="#008000">//退出应用程序，</font><b><font face="宋体"><br>      
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PostQuit</font><font face="Arial">M</font><font face="宋体">essage(0);</font></b><font color="#008000">//向系统发送一条WM_QUIT消息，</font><font face="宋体"><b>  
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000FF">break</font>;<br>       
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000FF">default</font>:        
</b></font><font color="#008000"> //让系统帮着处理的消息</font><b><font face="宋体"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#0000FF">return</font>        
(DefWindowProc(hWnd,message,wParam,lParam));<br>       
&nbsp;&nbsp;&nbsp; }<br>       
&nbsp;&nbsp;&nbsp; <font color="#0000FF">return</font>(0);</font></b><font color="#008000">//函数返回值</font><b><font face="宋体"><br>       
}</font></b></p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left"><font face="宋体">&nbsp;<font color="#800000">　</font><font color="#800000">保存</font>一下文件<img border="0" src="images/bcann.gif" width="23" height="22">，单击编译条上的“</font><font color="#800000">构建</font><font face="宋体">”按钮<img border="0" src="images/gjann.gif" width="23" height="22">，如果出现错误就仔细检查一下，然后单击“</font><font color="#800000">执行</font><font face="宋体">”按钮<img border="0" src="images/zhxann.gif" width="23" height="22">，看看又前进一步的程序窗口；</font></p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">本节</font><font face="宋体">学习了在用户区输出文字的代码设计，如果你成功地完成了练习，请继续学习下一课内容；</font></p>    
                
                 
<p style="line-height: 150%; margin: 0" align="left"><font face="宋体"><a href="../index.htm">返回</a></font></p>    
                
                 
<p style="line-height: 150%; margin: 0" align="left">　</p>    
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<a href="images/Text.exe">妙笔生花</a>           
 <font size="2">（在弹出的对话框中选择“<font color="#800000">运行</font>”、“<font color="#800000">运行</font>”）</font>             
          
               
</p>  
                
                 
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font SIZE="1" color="#008000">  
本教程由86团学校TeliuTe制作|著作权所有</font></p>  
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font SIZE="1" color="#008000">  
基础教程网：<a href="http://teliute.org/">http://www.laxjyj.com/teliute/</a>  
</font>        
               
                
</p>  
               
                
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font SIZE="1" color="#008000">  
美丽的校园……  
</font>        
               
                
</p>  
               
                
<font color="green" style="font-size:12px"><script language="javascript" type="text/javascript" src="http://js.users.51.la/201022.js"></script>
          	<noscript><a href="http://www.51.la/?201022" target="_blank"><img alt="我要啦免费统计" src="http://img.users.51.la/201022.asp" style="border:none" / width="20" height="20" /></a>
			</noscript></font><br /><br />
<div>

<table width="800" border="0" cellspacing="0" cellpadding="0" id="gg">
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "image";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
</table>
</div>
               
                
                     
                     
<p align="center">转载和引用本站内容，请保留版权信息和本站链接。</p></body> </html>                     

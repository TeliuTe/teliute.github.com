<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta name="author" content="TeliuTe" />
<meta name="Copyright" content="TeliuTe,86团学校,基础教程网" />
<meta name="description" content="基础教程网,TeliuTe系列教程，一步一步教你学会使用电脑" />
<meta name="keywords" content="Flash,Photoshop,3DS Max,VB,VC,Frongpage,XP,TeliuTe,86团学校,教程,基础,入门" />
<title>VC++基础|使用图标</title>
</head>

<body bgcolor="#CCFFFF" vlink="#0000FF">

<p align="center"><b><font color="#FF0000" size="6" face="华文中宋">Windows </font></b><font face="华文彩云" color="#FF0000" size="6">编程</font><font face="华文彩云" color="#FF0000" size="6">基础</font></p> 
<p align="left" style="line-height: 150%; margin: 0"><font color="#0000FF">二、使用图标</font>　<a href="../index.htm">返回</a></p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">图标</font>是Windows应用程序的<font color="#800000">标志</font>，在一个文件夹中，往往能够看到各式各样的图标，</p>
<p style="line-height: 150%; margin: 0" align="left">　一般来说<font color="#800000">彩色</font>好看的图标<img border="0" src="images/cstb.gif" width="28" height="30">，
是可以<font color="#800000">运行</font>的应用程序文件，而色调<font color="#800000">单一的</font>图标则是
不能识别<img border="0" src="images/wfshb.gif" width="39" height="48">、<img border="0" src="images/hbtb.gif" width="26" height="32">，</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>
<p style="line-height: 150%; margin: 0" align="left">　系统文件往往是<font color="#800000">齿轮</font>图标<img border="0" src="images/chltb.gif" width="27" height="32">，快捷方式的图标上都有一个小的<font color="#800000">箭头<img border="0" src="images/kjtb.gif" width="34" height="32"></font>，图标能够使我们更方便地查看和寻找文件，程序中的图标是怎样来的呢？</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>           
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">1、创建图标</font></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>            
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">1）在</font>“文件”菜单中单击“<font color="#800000">打开工作区</font>”命令（或者<font color="#800000">打开工作环境</font>），打开上一课的SmlWin工作区文件（.dsw），</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>
<p style="line-height: 150%; margin: 0" align="left">　单击编译条上的“<font color="#800000">执行</font>”按钮<img border="0" src="images/zhxann.gif" width="23" height="22">，看一下窗口左上角的<font color="#800000">小旗</font>图标<img border="0" src="images/xq.gif" width="18" height="16">，这是系统<font color="#800000">自带</font>的图标，</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>
<p style="line-height: 150%; margin: 0" align="left">　关闭程序，打开<font color="#800000">自己的</font>文件夹，打开其中的“SmlWin”<font color="#800000">文件夹</font>，打开里面的“Debug”<font color="#800000">文件夹</font>可以看到SmlWin程序是一个默认的窗口图标<img border="0" src="images/chktb.gif" width="33" height="30">，马马虎虎看得过去；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>          
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">2）回到</font>编程VC窗口，单击“<font color="#800000">文件</font>”菜单中的“<font color="#800000">新建</font>”命令，选择中间的<b><font face="宋体">Icon</font></b>           
<b><font face="宋体">File</font></b>类型，在<font color="#800000">右边的</font>“文件”文本框中输入<b><font face="宋体">SmlIcon</font></b>，单击“确定”；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>            
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">3）这时</font>文件工作区变成一个绘制图标的绘图区，中间是一个空白的图标，右边是<font color="#800000">工具箱</font>和<font color="#800000">颜色面板</font>，颜色面板常常被挡住，可以拖到工具箱的旁边；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>            
<p style="line-height: 150%; margin: 0" align="left">　<img border="0" src="images/htq.gif" width="596" height="288"></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">4）在</font>绘图区上边文本框中标明图标大小为<font color="#800000">32×32</font>，这是大图标，如果单击它右边的<font color="#800000">新建</font>图标按钮<img border="0" src="images/xjtb.gif" width="23" height="22">，可以再创建一个16×16的小图标；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>           
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">5）在</font>工具箱中选择<font color="#800000">直线</font>工具<img border="0" src="images/zhxgj.gif" width="25" height="23">，选择工具<font color="#800000">选项</font>中的第二排<font color="#800000">最小的</font>方块点，选择亮绿色，在空白图标区绘制出Sml三个字母，</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>
<p style="line-height: 150%; margin: 0" align="left">　再用深绿色<font color="#800000">描边</font>，作出一个立体图标，再选择<font color="#800000">油漆桶</font>工具<img border="0" src="images/yqt.gif" width="25" height="23">选择黄色，将透明背景喷上黄色，<font color="#800000">保存</font>一下文件<img border="0" src="images/bcann.gif" width="23" height="22">，关闭绘图区，这样我们就创建好了一个自己的图标；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>          
<p style="line-height: 150%; margin: 0" align="left"><font color="#0000FF">&nbsp;           
2、加载图标</font></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>  
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　加载图标可以用“插入”菜单中的“资源”命令，然后选择ICON，用“导入”命令(Import...)加载到<font color="#800000">工程</font>中，</p>
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　</p>
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　然后在程序中调用，操作方便但是不容易<font color="#800000">理解</font>，我们用基础的方法来加载，以后用多了、<font color="#800000">熟练</font>了再相互对比使用；</p>
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">1）打开</font>Windows自带的“记事本”程序（在“附件”里头），单击“<font color="#800000">保存</font>”命令，弹出“另存为”对话框，将保存<font color="#800000">位置</font>设在自己文件夹的SmlWin文件夹里，<font color="#800000">文件名</font>为SmlWin.rc           
保存类型为“<font color="#800000">所有文件</font>”，</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　<img border="0" src="images/lcw.gif" width="563" height="380"></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　这样就用记事本新建一个<font color="#800000">资源</font>文件，<font color="#800000">注意</font>保存类型必须是“所有文件”，否则会默认保存为文本文件，资源文件<font color="#800000">图标</font>是各种小图片排在一起放在电脑前面<img border="0" src="images/zywj.gif" width="32" height="32">；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">2）输入</font>以下代码，绿色双斜杠部分是<font color="#800000">注释</font>，先可以不用输入：</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>            
<p style="line-height: 150%; margin: 0" align="left"><font face="宋体"><b><font color="#0000FF">#include</font> 
&quot;SmlWin.h&quot;</b><font color="#008000">//用到头文件中申明的标识符</font></font></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>          
<p style="line-height: 150%; margin: 0" align="left"><font color="#008000">//下面定义一个图标资源
</font><br>
<b><font face="宋体">IDI_S</font><font face="Arial">M</font><font face="宋体">LWIN    ICON    DISC</font><font face="Arial">A</font><font face="宋体">RDABLE    "SmlIcon.ico"</font></b>         
<br>
<font color="#008000">//标识符，&nbsp;&nbsp; 图标，  内存清除，&nbsp;&nbsp;        
图标文件名</font></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>    
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　<font color="#800000">保存</font>一下文件，关闭记事本；</p>
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　</p>        
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">3）再</font>在项目控制台下边选择“FileView”标签，在控制台中<font color="#800000">双击</font>各个加号，找到SmlWin.h头文件，<font color="#800000">双击</font>打开，在头文件<font color="#800000">开始</font>部分加入下列代码：</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>          
<p style="line-height: 150%; margin: 0" align="left"><b><font face="宋体"><font color="#0000FF">#define</font> IDI_S</font><font face="Arial">M</font><font face="宋体">LWIN   101</font></b><br>  
<font color="#008000">//定义IDI_SMLWIN为一个标识符值为101</font></p>
<p style="line-height: 150%; margin: 0" align="left"><font color="#008000"><br>
</font>　<font color="#0000FF">4）打开</font>“工程”菜单，选择“<font color="#800000">添加工程</font>”（也叫“<font color="#800000">增加到工程</font>”）里的“<font color="#800000">Files...</font>”命令，在弹出的对话框中选择SmlWin.rc，单击“确定”，把资源文件加入到工程中，这时在项目台下边就有了一个<font color="#800000">ResourceView</font>标签；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>      
<p style="line-height: 150%; margin: 0" align="left"> <font color="#800000">&nbsp;     
保存</font>一下所有文件<img border="0" src="images/bcsy.gif" width="23" height="23"></p>
<p style="line-height: 150%; margin: 0" align="left"> 　</p>   
<p style="line-height: 150%; margin: 0" align="left"><font color="#0000FF">　3、程序使用图标</font></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">1）在</font>项目控制台中各个<font color="#800000">加号</font>上双击，找到SmlWin.cpp，双击打开，找到<b><font face="宋体">InitApplication</font></b>函数代码段；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>        
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">2）找到</font>下面加载图标的一句，把原来的小旗图标换掉，<font color="#800000">代码</font>改为：<b><font face="宋体">SmlWin.hIcon 
=LoadIcon(hInstance,</font><font face="Arial">MA</font><font face="宋体">KEINTRESOURCE(101));</font></b></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>
<p style="line-height: 150%; margin: 0" align="left"><b><font face="宋体">　</font></b>其中的101就是在头文件中定义的<font color="#800000">标识符</font>的值，代表了资源文件中定义的<font color="#800000">图标</font>资源；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">3）这样</font>图标从创建到加载到使用<font color="#800000">经历</font>了三个文件三个步骤，注意环环相扣，有点儿复杂，<font color="#800000">保存</font>一下所有文件<img border="0" src="images/bcsy.gif" width="23" height="23">；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>       
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　单击编译条上的<font color="#800000">构建</font>按钮<img border="0" src="images/gjann.gif" width="23" height="23">，开始构建程序，如果输出窗口出现错误，那就在三个文件中仔细核对，修改以后记着及时保存，构建成功后就可以单击“<font color="#800000">执行</font>”按钮<img border="0" src="images/zhxann.gif" width="23" height="23">，看看程序发生的变化；</p>
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　</p>  
<p style="line-height: 150%; margin: 0" align="left">　<font color="#0000FF">本节</font>学习了图标的创建和使用，如果你成功地完成了练习，请继续学习下一课内容；</p>
<p style="line-height: 150%; margin: 0" align="left"><a href="../index.htm">返回</a></p>
<p style="line-height: 150%; margin: 0" align="left">　</p>     
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　<a href="images/smlwin.exe">七彩阳光</a><font size="2">（在弹出的对话框中选择“<font color="#800000">运行</font>”、“<font color="#800000">运行</font>”）</font></p>    
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　</p>  
                
                 
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font SIZE="1" color="#008000">  
本教程由86团学校TeliuTe制作|著作权所有</font></p>  
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font color="#008000" size="1">基础教程网：<a href="http://teliute.org/">http://teliute.org/</a></font> </p>  
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font SIZE="1" color="#008000">  
美丽的校园……  
</font>        
               
                
</p>  
               
                
<font color="green" style="font-size:12px"><script language="javascript" type="text/javascript" src="http://js.users.51.la/1132862.js"></script>
          	<noscript><a href="http://www.51.la/?1132862" target="_blank"><img alt="我要啦免费统计" src="http://img.users.51.la/1132862.asp" style="border:none" / width="20" height="20" /></a>
			</noscript></font><br /><br />
<div>

<table width="800" border="0" cellspacing="0" cellpadding="0" id="gg">
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "image";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
</table>
</div>
               
                
                     
                     
<p align="center">转载和引用本站内容，请保留作者和本站链接。</p></body> </html>                     

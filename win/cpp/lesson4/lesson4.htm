<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta name="author" content="TeliuTe" />
<meta name="Copyright" content="TeliuTe,86团学校,基础教程网" />
<meta name="description" content="基础教程网,TeliuTe系列教程，一步一步教你学会使用电脑" />
<meta name="keywords" content="Flash,Photoshop,3DS Max,VB,VC,Frongpage,XP,TeliuTe,86团学校,教程,基础,入门" />
<title>VC++基础|鼠标指针</title>
</head>

<body bgcolor="#CCFFFF" vlink="#0000FF">

<p align="center"><b><font color="#FF0000" size="6" face="华文中宋">Windows </font></b><font face="华文彩云" color="#FF0000" size="6">编程</font><font face="华文彩云" color="#FF0000" size="6">基础</font></p> 
                
                 
<p align="left" style="line-height: 150%; margin: 0"><font color="#0000FF">四、鼠标指针</font>　<a href="../index.htm">返回</a></p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp;       
上一节我们学习了对鼠标的编程，通常的鼠标在<font color="#800000">屏幕上</font>显示为一个箭头指针，而在不同<font color="#800000">位置</font>，不同时刻鼠标指针也会<font color="#800000">改变</font>为不同的形态，从而反映出程序<font color="#800000">当前</font>的运行状况；</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp;        
常见的鼠标指针形态有以下几种形态：</p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; 单箭头：<img border="0" src="images/shbzhzh.gif" width="15" height="26">&nbsp;       
起<font color="#800000">选择</font>作用；&nbsp;　　 十字箭头：<img border="0" src="images/ydzhzh.gif" width="23" height="23">        
 <font color="#800000">移动</font>所选目标；                
          
               
</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; 双箭头：<img border="0" src="images/dxzhzh.gif" width="17" height="18">&nbsp;       
改变窗口<font color="#800000">大小</font>；　　绘图十字：<img border="0" src="images/shzzhzh.gif" width="23" height="23"> 
 精确<font color="#800000">定位</font>靶心；                
          
               
</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; 不可用：<img border="0" src="images/jzhzhzh.gif" width="22" height="20">        
 <font color="#800000">禁止</font>拖放；&nbsp;&nbsp;&nbsp; 　　等待沙漏：<img border="0" src="images/ddzhzh.gif" width="18" height="25">        
 系统<font color="#800000">正忙</font>；                
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; 这些都是系统预定义的，我们也可以<font color="#800000">自己</font>制作鼠标指针，每一个指针都有一个<font color="#800000">标识符</font>，例如单箭头的标识符是<b><font face="宋体">IDC_ARROW</font></b>，<b><font face="宋体">ID</font></b>是标号，<b><font face="宋体">C</font></b>是指针的缩写；          
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp;        
下面我们通过一个例子来学习鼠标指针的创建和使用：          
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><font color="#0000FF">&nbsp; 1、创建鼠标指针：</font>                 
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#0000FF">1）鼠标</font>指针是一种资源，因此在<font color="#800000">资源</font>文件（.rc）中定义，但是创建跟<font color="#800000">图标</font>差不多，要在绘图窗口中完成；</p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><font color="#0000FF">&nbsp; 2）启动</font>VC，单击“打开工作区”命令，打开上一课的<font color="#800000">Mouse</font>工作区文件，单击“执行”按钮<img border="0" src="images/zhxann.gif" width="23" height="22">，看看程序运行时鼠标的指针形态，可以看到，在窗口区内是一个单箭头的选择指针，<font color="#800000">关闭</font>程序，返回VC窗口；          
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#0000FF">3</font><font color="#0000FF">）选择</font>文件菜单中的“<font color="#800000">新建</font>”命令，注意在新建面板左边的<font color="#800000">文件类型</font>中选择“<b><font face="宋体">Cusor</font></b>       
<b><font face="宋体">File</font></b>”指针类型，在右边文件<font color="#800000">名称</font>中输入cur<font face="Arial">M</font>ouse单击“确定”加入绘图窗口；                
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">　<img border="0" src="images/shhtuq.gif" width="596" height="293"></p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#0000FF">4）绘图</font>窗口跟上次的图标窗口<font color="#800000">相似</font>，仔细瞧一瞧工具箱是一样的，但是<font color="#800000">调色板</font>不一样，只有<font color="#800000">黑白</font>两色，</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>
<p align="left" style="line-height: 150%; margin: 0">　中间彩色的两个显示器是什么颜色呢？上面的蓝绿色表示<font color="#800000">透明色</font>，也就是透明的，在上次绘图标时我们用黄色填充了，</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>
<p align="left" style="line-height: 150%; margin: 0">　下面的红色显示器表示<font color="#800000">翻转色</font>，这个颜色跟背景色相反，即不同的背景色会显示不同的翻转色，因此不论黑白背景，都能看到鼠标；</p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#0000FF">5）选择</font>直线工具，选择<font color="#800000">翻转色</font>绘制一个大的十字，中间用黑色绘制一个小框，这是十字精确<font color="#800000">定位</font>指针，准星应该在十字中心，这一点称作“<font color="#800000">热点</font>”，</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>
<p align="left" style="line-height: 150%; margin: 0">　单击一下工具箱左边的工具条上的一个<font color="#800000">发光的</font>小按钮<img border="0" src="images/shbrd.gif" width="25" height="23">，鼠标指针移到绘图区会变成一个小十字，在中心点击一下，这一点将成为鼠标指针的<font color="#800000">热点</font>；                
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><font color="#0000FF">&nbsp; 2、加载指针：</font></p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#0000FF">1）保存</font>一下文件<img border="0" src="images/bcann.gif" width="23" height="22">，关闭绘图窗口，打开Mouse.h头文件，<font color="#800000">加入</font>鼠标指针的标识符<font color="#800000">申明</font>：              
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><b><font face="宋体"><font color="#0000FF">#define</font>  
IDC_MYCUR 201</font></b>                 
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><b><font face="宋体">&nbsp;       
</font></b><font color="#800000">保存</font>一下文件<img border="0" src="images/bcann.gif" width="23" height="22">；          
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#0000FF">2）打开</font>记事本，单击“<font color="#800000">保存</font>”按钮，<font color="#800000">位置</font>保存在自己文件夹的Mouse中，<font color="#800000">文件名</font>为Mouse.rc文件<font color="#800000">类型</font>为“所有文件”，创建一个资源文件；</p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp;<font color="#0000FF"> 
3）输入</font>以下代码，定义一个鼠标指针资源,<font color="#008000">绿色双斜杠部分是注释</font>：</p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><b><font face="宋体"><font color="#0000FF">#include</font>  
&quot;Mouse.h&quot;</font></b><font face="宋体"><font color="#008000">//要用头文件中申明的标识符</font></font>               
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><font color="#008000">//下面定义一个鼠标指针</font><br>
<b><font face="宋体">IDC_MYCUR CURSOR DISCARDABLE&nbsp;    "curMouse.cur"</font></b>        
<br>
<font color="#008000">//标识符，&nbsp;&nbsp; 指针，  内存清除，&nbsp;&nbsp;指针文件名</font>                
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp;<font color="#0000FF"> 
4）打开</font>“工程”菜单，选择“<font color="#800000">添加工程</font>”里的“Files...”命令，在弹出的对话框中选择资源文件Mouse.rc，单击“<font color="#800000">确定</font>”，把资源文件加入到工程中；          
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#800000">保存</font>一下文件<img border="0" src="images/bcann.gif" width="23" height="22">；            
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0"><font color="#0000FF">&nbsp; 3、使用指针：</font>               
          
               
</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">　</p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;<font color="#0000FF"> 
1）在</font>左边的项目控制台里头<font color="#800000">双击</font>打开Mouse.cpp，找到<b><font face="宋体">InitApplication</font></b>函数代码段；</p>
<p align="left" style="line-height: 150%; margin: 0">&nbsp;</p>         
                
                 
<p align="left" style="line-height: 150%; margin: 0">&nbsp; <font color="#0000FF">2）找到</font>里面加载鼠标指针的一句，把原来的<font color="#800000">箭头</font>指针换掉，</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>
<p align="left" style="line-height: 150%; margin: 0"><font color="#800000">　代码</font>改为：<b><font face="宋体">wcMouse.hCursor=LoadCursor(hInstance,MAKEINTRESOURCE(201));     
</font></b>          
          
               
</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>
<p align="left" style="line-height: 150%; margin: 0"><b><font face="宋体">　</font></b>其中的<b><font face="宋体">201</font></b>就是在头文件中定义的<font color="#800000">标识符</font>的值，代表了资源文件中定义的<font color="#800000">指针</font>资源；</p>
<p align="left" style="line-height: 150%; margin: 0">　</p>         
                
                 
<p style="line-height: 150%; margin: 0" align="left"><font color="#800000">&nbsp;      
保存</font>一下所有文件<img border="0" src="images/bcsy.gif" width="23" height="23">；</p>
<p style="line-height: 150%; margin: 0" align="left">　</p>    
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">&nbsp;        
单击编译条上的<font color="#800000">构建</font>按钮<img border="0" src="images/gjann.gif" width="23" height="23">，开始构建程序，如果输出窗口出现错误，那就在三个文件中仔细核对，每次修改了要及时保存，构建成功后就可以单击“<font color="#800000">执行</font>”按钮<img border="0" src="images/zhxann.gif" width="23" height="23">，看看程序发生的变化；&nbsp;&nbsp;</p>
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">　</p>  
                
                 
<p style="line-height: 150%; margin: 0" align="left"> <font color="#0000FF">&nbsp;   
本节</font>学习了鼠标指针的创建和使用，如果你成功地完成了练习，请继续学习下一课内容；</p>
<p style="line-height: 150%; margin: 0" align="left"> <a href="../index.htm">返回</a></p>
<p style="line-height: 150%; margin: 0" align="left"> 　</p>   
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">&nbsp; <a href="images/curMouse.exe">百发百中</a><font size="2">（在弹出的对话框中选择“<font color="#800000">运行</font>”、“<font color="#800000">运行</font>”）</font></p>    
                
                 
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
　</p>
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font SIZE="1" color="#008000">  
本教程由86团学校TeliuTe制作|著作权所有</font></p>  
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font color="#008000" size="1">基础教程网：<a href="http://teliute.org/">http://teliute.org/</a></font> </p>  
<p style="line-height: 150%; margin-top: 0; margin-bottom: 0">          
                 
                  
<font SIZE="1" color="#008000">  
美丽的校园……  
</font>        
               
                
</p>  
               
                
<font color="green" style="font-size:12px"><script language="javascript" type="text/javascript" src="http://js.users.51.la/1132862.js"></script>
          	<noscript><a href="http://www.51.la/?1132862" target="_blank"><img alt="我要啦免费统计" src="http://img.users.51.la/1132862.asp" style="border:none" / width="20" height="20" /></a>
			</noscript></font><br /><br />
<div>

<table width="800" border="0" cellspacing="0" cellpadding="0" id="gg">
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "image";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
  <tr>
    <td>
	<script type="text/javascript"><!--
google_ad_client = "pub-2989083345397211";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-09-15: new1
google_ad_channel = "9381269263";
google_ui_features = "rc:6";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
	</td>
  </tr>
</table>
</div>
               
                
                     
                     
<p align="center">转载和引用本站内容，请保留版权信息和本站链接。</p></body> </html>                     
